# 2. 数据结构

## 2.1 常用数据结构

### 2.1.1 使用集合
* 当需要经常访问数字列表中的项时，并且在 O(1) 时间复杂度内访问这些项，考虑使用集合

### 2.1.2 返回和访问数据时使用 namedtuple
namedtuple 根本上是一个带有数据名称的元组

#### 1. 访问数据
namedtuple 通过使用名称访问而不是索引访问，使访问数据更加方便。此外，namedtuple 的字段名称必须是字符串，且值无法更改。
* 有时，使用 namedtuple 的可读性好于使用普通类
    ``` Python
    Point = namedtuple("Point", ["x", "y", "z"])
    point = Point(x=3, y=4, z=5)
    point.x
    point.y
    point.z
    ```

#### 2. 返回数据
多个返回值通常用 tuple 或 dict 的形式返回，但是 tuple 缺乏上下文，而 dict 不具有不可变性。namedtuple 填补了这两项空白，更具可读性和可维护性。当数据从一个函数传递到另一个函数时，应该考虑是否可以使用 namedtuple。
* 使用 namedtuple 返回函数的值
    ``` Python
    def get_user_info(user_obj):
        user = get_data_from_db(user_obj)
        UserInfo = namedtuple("UserInfo", ["first_name", "last_name", "age"])
        user_info = UserInfo(
            first_name=user["first_name"], 
            last_name=user["last_name"],
            age = user["age"]
        )
        return user_info
    
    def get_full_name(user_info):
        return user_info.first_name + user_info.last_name
    
    user_info = get_user_info(user_obj)
    full_name = get_full_name(user_info)
    ```
